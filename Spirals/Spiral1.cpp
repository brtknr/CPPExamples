#include <iostream>#include <fstream>#include <cmath>#include <cstdlib>using namespace std;#define   MaxNo 5001void DXFSetUp(void);void DXFLines(void);void DXFText(void);void DXFFinishOff(void);int   i,NoSegments,Layer,Colour,PointsPerCycle,NumberOfCycles;float x[MaxNo],y[MaxNo],z[MaxNo],PI,      r,r0,theta,phi,lambda,      DXFx1,DXFy1,DXFz1,      DXFx2,DXFy2,DXFz2;ofstream Emma("Spiral1.dxf");int main(void){PI=4.0*atan(1.0);DXFSetUp();lambda=(2.0/PI)*log((1.0+sqrt(5.0))/2.0);r0=0.5;phi=atan(exp(lambda*PI/2.0));NumberOfCycles=6;for(Layer=0;Layer<=1;Layer+=1){if(Layer==0)PointsPerCycle=100;else PointsPerCycle=4;NoSegments=NumberOfCycles*PointsPerCycle;for(i=0;i<=NoSegments;i+=1){theta=phi+(2.0*PI*i)/(1.0*PointsPerCycle);r=r0*exp(lambda*theta);x[i]=r*cos(theta);y[i]=r*sin(theta);z[i]=0.0;}Colour=Layer;for(i=1;i<=NoSegments;i+=1){DXFx1=x[i-1];DXFy1=y[i-1];DXFz1=z[i-1];DXFx2=x[i];DXFy2=y[i];DXFz2=z[i];DXFLines();}}DXFFinishOff();cout<<"DXF file written, end of program\n";return 0;}void DXFSetUp(void){Emma<<"0\n";Emma<<"SECTION\n";Emma<<"2\n";Emma<<"ENTITIES\n";}void DXFLines(void){Emma<<"0\nLINE\n8\n"<<Layer<<"\n";Emma<<"10\n"<<DXFx1<<"\n";Emma<<"20\n"<<DXFy1<<"\n";Emma<<"30\n"<<DXFz1<<"\n";Emma<<"11\n"<<DXFx2<<"\n";Emma<<"21\n"<<DXFy2<<"\n";Emma<<"31\n"<<DXFz2<<"\n";Emma<<"62\n"<<Colour<<"\n";}void DXFFinishOff(void){Emma<<"0\n";Emma<<"ENDSEC\n";Emma<<"0\n";Emma<<"EOF\n";Emma.close();}